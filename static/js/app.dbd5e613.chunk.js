(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{186:function(e,t,n){"use strict";n.d(t,"a",(function(){return st}));var r=n(0),o=n.n(r),a=n(2),i=n(9),c=n(4),l=function(e){var t=e.children,n=Object(i.b)().colors;return Object(c.jsx)(a.a,{style:[{backgroundColor:n.background},{height:"100%",width:"100%"}],children:t})},s=n(42),u=n(115),d=n(30),b=Object(d.a)("abcdefghijklmnopqrstuvwxyz0123456789",10),f=Object(u.b)({name:"todos",initialState:{todos:[]},reducers:{createTodo:function(e,t){var n={id:b(),title:t.payload.title,completed:!1,version:1,createdAt:new Date};e.todos.push(n)},toggleTodo:function(e,t){var n=e.todos.find((function(e){return e.id===t.payload.id}));n&&(n.completed=!n.completed,n.version++,n.updatedAt=new Date)},deleteTodo:function(e,t){e.todos=e.todos.filter((function(e){return e.id!==t.payload.id}))},updateTodo:function(e,t){var n=e.todos.find((function(e){return e.id===t.payload.id}));n&&(n.title=t.payload.title,n.version++,n.updatedAt=new Date)},setTodo:function(e,t){e.todos.push(t.payload.todo)},initTodos:function(e,t){e.todos=t.payload.todos}}}),j=f.reducer,O=function(e){return e.todoState.todos},p=function(e){var t=Array.from(e.todoState.todos);return t.sort((function(e,t){var n,r,o,a,i=null!=(n=null==(r=e.createdAt)?void 0:r.getTime())?n:0;return(null!=(o=null==(a=t.createdAt)?void 0:a.getTime())?o:0)-i})),t},h=f.actions,m=h.createTodo,y=h.deleteTodo,g=h.updateTodo,x=h.setTodo,v=h.toggleTodo,w=h.initTodos,P=Object(u.a)({reducer:{todoState:j},middleware:[]}),T=n(10),D=n.n(T),k=n(12),S=n.n(k),A=n(160),C=n(3),E=n.n(C),L=n(96),I=n(73),z=n(59);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={web:{regular:{fontFamily:"monospace"},medium:{fontFamily:"monospace"},light:{fontFamily:"monospace"},thin:{fontFamily:"monospace"}},ios:{regular:{fontFamily:"monospace"},medium:{fontFamily:"monospace"},light:{fontFamily:"monospace"},thin:{fontFamily:"monospace"}},android:{regular:{fontFamily:"monospace"},medium:{fontFamily:"monospace"},light:{fontFamily:"monospace"},thin:{fontFamily:"monospace"}},default:{regular:{fontFamily:"monospace"},medium:{fontFamily:"monospace"},light:{fontFamily:"monospace"},thin:{fontFamily:"monospace"}}};function M(e){return V(V({},e?I.a:z.a),{},{fonts:Object(L.a)(B)})}var H=n(19),N=n.n(H),Y=n(20),R=n.n(Y),J=n(128);function q(e,t){if(null==e)return null;try{return JSON.parse(e,t)}catch(n){return null}}var U=function(){function e(t){N()(this,e),this.key=t}return R()(e,[{key:"load",value:function(e){var t;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.awrap(J.a.getItem(this.key));case 2:if(null!=(t=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return n.abrupt("return",q(t,e));case 6:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"save",value:function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(J.a.setItem(this.key,JSON.stringify(e)));case 2:case"end":return t.stop()}}),null,this,null,Promise)}}]),e}(),W=new U("todos/isDark"),_=Object(r.createContext)({dark:!1,theme:{},setDarkTheme:function(){}}),$=function(e){var t=e.children,n="dark"===Object(A.a)(),a=o.a.useState(n),i=D()(a,2),l=i[0],s=i[1],u=o.a.useState(M(l)),d=D()(u,2),b=d[0],f=d[1];Object(r.useLayoutEffect)((function(){!function(){var e;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(W.load());case 2:null!=(e=t.sent)&&j(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]);var j=function(e){s(e),f(M(e)),W.save(e)};return Object(c.jsx)(_.Provider,{value:{theme:b,dark:l,setDarkTheme:j},children:t})},G=function(){return Object(r.useContext)(_)},K=n(189),Q=n(252),X=n(253),Z=n(1),ee=n(119),te=n(250),ne=n(117);function re(e){var t=e.navigation,n=e.back,r=G(),o=r.dark,i=r.setDarkTheme;return Object(c.jsxs)(ee.a.Header,{children:[n?Object(c.jsx)(ee.a.BackAction,{onPress:t.goBack}):null,Object(c.jsx)(ee.a.Content,{title:"Todos App"}),Object(c.jsxs)(a.a,{style:oe.themeToggle,children:[Object(c.jsx)(ne.a,{value:o,onValueChange:function(){i(!o)},style:oe.themeToggle}),o?Object(c.jsx)(te.a,{style:oe.icon,color:"#00ffbb",size:35,icon:"weather-night"}):Object(c.jsx)(te.a,{style:oe.icon,color:"#ebd534",size:35,icon:"white-balance-sunny"})]})]})}var oe=Z.a.create({themeToggle:{display:"flex",flexDirection:"row",alignItems:"center"},icon:{backgroundColor:"#0000"},switch:{marginEnd:10}}),ae={list:"Todos - List",add:"Todos - Add",edit:"Todos - Edit"},ie=n(127),ce=n(25),le=n(70),se=n(107),ue=n(106),de=n(176),be=n(81),fe=n(47);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e){var t,n,r=e.title,l=e.todo,u=Object(i.b)().colors,d=Object(fe.k)(),b=o.a.useState(!1),f=D()(b,2),j=f[0],O=f[1],p=Object(ie.b)({defaultValues:{title:(null==l?void 0:l.title)||""}}),h=p.control,y=p.handleSubmit,x=p.formState.errors,v=Object(s.b)();return Object(c.jsxs)(a.a,{style:he.container,children:[Object(c.jsxs)(a.a,{style:he.heading,children:[Object(c.jsx)(ue.a,{children:r}),l&&Object(c.jsx)(se.a,{textStyle:{color:"black"},style:[{backgroundColor:u.accent},he.centerText],avatar:Object(c.jsx)(te.a,{icon:"check-bold",style:he.completedIcon,color:"black",size:25}),children:"Completed"})]}),l&&Object(c.jsx)(be.a,{style:he.marginY,label:"Id",value:l.id,disabled:!0}),Object(c.jsx)(ie.a,{control:h,rules:{required:!0,validate:function(e){return e.trim().length>0}},render:function(e){var t=e.field,n=t.onChange,r=t.onBlur,o=t.value;return Object(c.jsx)(be.a,{label:"Title",placeholder:"Title of this todo...",onBlur:r,onChangeText:n,multiline:!0,style:he.marginY,value:o})},name:"title"}),Object(c.jsx)(de.a,{type:"error",visible:!!x.title,children:"Title is required"}),l&&Object(c.jsxs)(a.a,{style:[he.centerText,he.marginY],children:[Object(c.jsx)(ne.a,{value:j,onValueChange:O}),Object(c.jsx)(ce.a,{children:" Show details"})]}),l&&j&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(be.a,{label:"Version",style:he.marginY,value:String(l.version),disabled:!0}),Object(c.jsx)(be.a,{label:"Created At",style:he.marginY,value:(null==(t=l.createdAt)?void 0:t.toLocaleString())||"N/A",disabled:!0}),Object(c.jsx)(be.a,{label:"Updated At",style:he.marginY,value:(null==(n=l.updatedAt)?void 0:n.toLocaleString())||"N/A",disabled:!0})]}),Object(c.jsx)(a.a,{style:[he.actions,he.marginY],children:Object(c.jsx)(le.a,{icon:"content-save",mode:"contained",onPress:y((function(e){v(l?g(Oe(Oe({},e),{},{id:l.id})):m(e)),d.navigate(ae.list,{})})),children:"Save"})})]})}var he=Z.a.create({container:{display:"flex",flexDirection:"column",paddingHorizontal:10,paddingVertical:30},heading:{display:"flex",flexDirection:"row",justifyContent:"space-between"},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},centerText:{display:"flex",flexDirection:"row",alignItems:"center"},details:{display:"flex",flexDirection:"column"},completedIcon:{backgroundColor:"#0000"},marginY:{marginVertical:5}});function me(){return Object(c.jsx)(pe,{title:"Add new todo"})}function ye(e){var t=e.route.params.todoId,n=Object(s.c)(O).find((function(e){return e.id===t}));return Object(c.jsx)(pe,{title:"Edit todo",todo:n})}var ge=n(187);function xe(e){var t=e.onPress,n=r.useState(!1),o=D()(n,2),a=o[0],i=o[1];return Object(c.jsx)(ge.a,{style:ve.fab,icon:"plus",color:"white",onPress:function(){t(),i(!a)}})}var ve=Z.a.create({fab:{position:"absolute",margin:16,right:10,bottom:10}}),we=n(110),Pe=n(58),Te=n(41),De=n(191),ke=n(93),Se=n(177),Ae=n(8),Ce=function(){function e(){N()(this,e)}return R()(e,null,[{key:"create",value:function(e){return function(){return function(e){var t=Object(we.a)(),n={},r={os:Ae.a.OS,orientation:t.width>t.height?"landscape":"portrait"};for(var o in e){var a=e[o];n[o]="function"===typeof a?a(t,r):a}return n}(e)}}}]),e}();function Ee(e){var t=e.todo,n=e.visible,r=e.onConfirm,o=e.setVisible,a=function(){return o(!1)},i=Le();return Object(c.jsx)(De.a,{children:Object(c.jsxs)(ke.a,{style:i.dialog,visible:n,onDismiss:a,children:[Object(c.jsx)(ke.a.Title,{children:"Do you want to delete this Todo?"}),Object(c.jsx)(ke.a.Content,{children:Object(c.jsxs)(Se.a,{children:['Delete "',Object(c.jsxs)(Te.a,{style:{fontWeight:"bold"},children:[null==t?void 0:t.title,'"?']})]})}),Object(c.jsxs)(ke.a.Actions,{children:[Object(c.jsx)(le.a,{onPress:a,children:"Cancel"}),Object(c.jsx)(le.a,{onPress:function(){return r()},children:"Delete"})]})]})})}var Le=Ce.create({dialog:function(e){return{marginHorizontal:e.width>1e3?"20%":"5%"}}}),Ie=n(188),ze=n(55),Fe=n(32),Ve=Z.a.create({card:{display:"flex",flexDirection:"row",paddingHorizontal:20,paddingVertical:15,borderRadius:10,marginHorizontal:2.5,elevation:4},todoLead:{display:"flex",flexDirection:"row",alignItems:"center",marginRight:"auto"},actions:{display:"flex",flexDirection:"row",alignItems:"center"},textDashed:{textDecorationLine:"line-through",opacity:.4},text:{display:"flex",flexDirection:"row",alignItems:"center"}}),Be=function(e){var t=e.todo,n=e.onToggle,o=e.onEdit,l=e.onDelete,s=Object(i.b)().colors,u=Object(r.useContext)(_).dark;return Object(c.jsxs)(Fe.a,{style:[Ve.card,{backgroundColor:u?"#1f1f1f":"white"}],children:[Object(c.jsxs)(a.a,{style:Ve.todoLead,children:[Object(c.jsx)(a.a,{style:{marginRight:10},children:Object(c.jsx)(Ie.a,{onPress:function(){return n(t)},status:!0===t.completed?"checked":"unchecked"})}),Object(c.jsx)(Te.a,{style:[{color:s.text},Ve.text,t.completed?Ve.textDashed:{}],children:t.title})]}),Object(c.jsxs)(a.a,{style:Ve.actions,children:[Object(c.jsx)(ze.a,{icon:"lead-pencil",size:20,color:s.primary,onPress:function(){return o(t)}}),Object(c.jsx)(ze.a,{icon:"trash-can",size:20,color:s.primary,onPress:function(){return l(t)}})]})]})},Me=n(88),He=n(179);var Ne=n(178);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e){var t=e.deletedTodoRef,n=e.durationMs,r=e.visible,o=e.setVisible,a=e.onDimiss,i=Object(s.b)(),l=qe(),u=function(){null==o||o(!1),t.current=void 0,a&&a()};return Object(c.jsx)(Ne.a,{style:[l.snackbar],duration:n,visible:r,onDismiss:u,action:{label:"Undo",onPress:function(){var e=t.current;e&&i(x({todo:Re(Re({},e),{},{version:e.version+1})})),u()}},children:Object(c.jsx)(ce.a,{style:{color:"white"},children:"The todo was deleted"})})}var qe=Ce.create({snackbar:function(e){return{marginHorizontal:e.width>600?"20%":"5%",backgroundColor:"#383838"}}}),Ue=n(251);function We(e){var t=e.icon,n=e.size,r=e.color;return Object(c.jsx)(te.a,{icon:t,size:n,color:r,style:{backgroundColor:"#0000"}})}function _e(e,t,n){return{label:e,icon:n,value:t}}function $e(e){var t=e.items,n=e.value,r=e.onChange,o=Object(Ue.a)().colors,i=function(e){return e.value===n};return Object(c.jsx)(a.a,{style:Ke.container,children:t.map((function(e){return Object(c.jsx)(se.a,{style:[{backgroundColor:o.primary},{opacity:i(e)?1:.5},Ke.item],avatar:Object(c.jsx)(We,{icon:e.icon,size:30,color:"white"}),onPress:function(){return t=e.value,void r(t);var t},children:Object(c.jsx)(ce.a,{style:{color:"white"},children:e.label})},e.label)}))})}var Ge,Ke=Z.a.create({container:{display:"flex",flexDirection:"row"},item:{margin:2.5}});function Qe(){var e=Object(s.c)(p),t=Object(we.a)(),n=Object(s.b)(),o=Object(fe.k)(),i=Object(r.useState)(!1),l=D()(i,2),u=l[0],d=l[1],b=Object(r.useState)(null),f=D()(b,2),j=f[0],O=f[1],h=Object(r.useState)(""),m=D()(h,2),g=m[0],x=m[1],w=Object(r.useState)(e),P=D()(w,2),T=P[0],k=P[1],S=Object(r.useRef)(void 0),A=Object(r.useState)(!1),C=D()(A,2),E=C[0],L=C[1],I=Object(r.useState)(Ge.ALL),z=D()(I,2),F=z[0],V=z[1],B=g.trim().length>0||F!==Ge.ALL,M=Xe.px;Object(r.useEffect)((function(){var t=e;switch(F){case Ge.COMPLETED:t=e.filter((function(e){return e.completed}));break;case Ge.ACTIVE:t=e.filter((function(e){return!e.completed}));break;case Ge.ALL:}if(g.trim().length>0){var n=g.trim().toLowerCase();t=t.filter((function(e){return e.title.trim().toLowerCase().includes(n)}))}k(t)}),[e,F,g]),t.width>1e3?M=Xe.pxLarge:t.width>600&&(M=Xe.pxMedium);var H=function(e){o.navigate(ae.edit,{todoId:e.id})},N=function(e){n(v({id:e.id}))},Y=function(e){d(!0),O(e)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(a.a,{style:[Xe.search,M],children:[Object(c.jsx)(a.a,{style:{marginBottom:10},children:Object(c.jsx)($e,{value:F,onChange:V,items:[_e(Ge.ALL,Ge.ALL,"filter-variant"),_e(Ge.COMPLETED,Ge.COMPLETED,"check-bold"),_e(Ge.ACTIVE,Ge.ACTIVE,"checkbox-blank-circle-outline")]})}),Object(c.jsx)(He.a,{placeholder:"Search",onChangeText:x,value:g})]}),Object(c.jsxs)(Pe.a,{contentContainerStyle:[Xe.list,M],children:[Object(c.jsx)(ue.a,{children:"My todos"}),B&&e.length>0&&0===T.length&&Object(c.jsx)(Me.a,{style:Xe.centerText,children:"No todos found"}),0===e.length&&Object(c.jsx)(Me.a,{style:Xe.centerText,children:"No todos available"}),T.map((function(e){return Object(c.jsx)(a.a,{style:Xe.item,children:Object(c.jsx)(Be,{todo:e,onToggle:N,onDelete:Y,onEdit:H})},e.id)}))]}),Object(c.jsx)(Ee,{todo:j,visible:u,setVisible:d,onConfirm:function(){j&&(S.current=j,n(y({id:j.id})),L(!0)),d(!1),O(null)}}),Object(c.jsx)(Je,{durationMs:5e3,visible:E,setVisible:L,deletedTodoRef:S})]})}!function(e){e.ALL="ALL",e.COMPLETED="COMPLETED",e.ACTIVE="ACTIVE"}(Ge||(Ge={}));var Xe=Z.a.create({px:{paddingHorizontal:10},pxMedium:{paddingHorizontal:60},pxLarge:{paddingHorizontal:250},search:{marginBottom:20,marginTop:10},list:{paddingTop:5,paddingBottom:80,backgroundColor:"transparent"},item:{marginVertical:7},centerText:{fontSize:20,padding:40,textAlign:"center",marginHorizontal:"auto"}});function Ze(e){return{id:b(),title:e,completed:!1,version:1,createdAt:new Date}}Ze("Walk the dog"),Ze("Buy milk"),Ze("Buy eggs"),Ze("Buy bread"),Ze("Do the laundry"),Ze("Wash the dishes"),Ze("Clean the house"),Ze("Buy a new car");function et(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nt=new U("todos/data");function rt(){var e=Object(fe.k)();return function(){var e=Object(s.b)();Object(r.useEffect)((function(){!function(){var t;S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.awrap(nt.load(ot));case 2:(t=n.sent)&&e(w({todos:t.todos}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]),Object(r.useEffect)((function(){var e=P.subscribe((function(){var e;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=P.getState(),t.next=3,S.a.awrap(nt.save(e.todoState));case 3:case"end":return t.stop()}}),null,null,null,Promise)}));return function(){return e()}}),[])}(),Object(c.jsxs)(a.a,{style:{height:"100%"},children:[Object(c.jsx)(Qe,{}),Object(c.jsx)(xe,{onPress:function(){return e.navigate(ae.add,{})}})]})}function ot(e,t){if("todos"==e&&Array.isArray(t))for(var n,r=et(t||[]);!(n=r()).done;){var o=n.value;o&&(o.createdAt&&(o.createdAt=new Date(o.createdAt)),o.updatedAt&&(o.updatedAt=new Date(o.updatedAt)))}return t}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var it=Object(X.a)();function ct(){var e=G().theme;return Object(c.jsx)(K.a,{theme:e,children:Object(c.jsx)(Q.a,{theme:e,children:Object(c.jsxs)(it.Navigator,{initialRouteName:ae.list,screenOptions:{header:function(e){return Object(c.jsx)(re,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},animation:"slide_from_bottom",contentStyle:lt.container},children:[Object(c.jsx)(it.Screen,{name:ae.list,component:rt}),Object(c.jsx)(it.Screen,{name:ae.add,component:me}),Object(c.jsx)(it.Screen,{name:ae.edit,component:ye})]})})})}var lt=Z.a.create({container:{padding:10,height:"90%"}});function st(){return Object(c.jsx)(s.a,{store:P,children:Object(c.jsx)($,{children:Object(c.jsx)(l,{children:Object(c.jsx)(ct,{})})})})}},194:function(e,t,n){e.exports=n(242)}},[[194,1,2]]]);
//# sourceMappingURL=app.dbd5e613.chunk.js.map